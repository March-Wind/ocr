import numpy as np
import cv2

# Define the data containing rectangle information
data = [
    [
        [(66, 79), (469, 79), (469, 143), (66, 143)],
        ("我的收听成就", 0.9975907206535339),
        {"bg": (255, 255, 255), "text_color": [((19, 19, 19), 9058)]},
    ],
    [
        [(941, 87), (1274, 87), (1274, 139), (941, 139)],
        ("查看我的勋章墙", 0.9980186820030212),
        {"bg": (255, 255, 255), "text_color": [((141, 141, 145), 3992)]},
    ],
    [
        [(828, 278), (1022, 278), (1022, 362), (828, 362)],
        ("30%", 0.9994527697563171),
        {"bg": (246, 249, 251), "text_color": [((251, 249, 246), 10028)]},
    ],
    [
        [(215, 306), (378, 306), (378, 366), (215, 366)],
        ("已收获", 0.994903028011322),
        {"bg": (246, 249, 251), "text_color": [((251, 249, 246), 7844)]},
    ],
    [
        [[472.0, 306.0], [809.0, 306.0], [809.0, 366.0], [472.0, 366.0]],
        ("枚勋章，超过", 0.9983140826225281),
        {"bg": (246, 249, 251), "text_color": [((251, 249, 246), 13138)]},
    ],
    [
        [(1045, 305), (1150, 305), (1150, 366), (1045, 366)],
        ("用户", 0.9994747042655945),
        {"bg": (246, 249, 251), "text_color": [((251, 249, 246), 6891)]},
    ],
    [
        [(107, 484), (404, 484), (404, 531), (107, 531)],
        ("300小时里程碑", 0.9995969533920288),
        {"bg": (254, 254, 254), "text_color": [((255, 255, 255), 9755)]},
    ],
    [
        [[532.0, 488.0], [843.0, 488.0], [843.0, 528.0], [532.0, 528.0]],
        ("第22周收听之星", 0.9998161792755127),
        {"bg": (255, 255, 255), "text_color": [((19, 19, 19), 2764)]},
    ],
    [
        [[1009.0, 484.0], [1228.0, 484.0], [1228.0, 528.0], [1009.0, 528.0]],
        ("童心筑梦师", 0.9990328550338745),
        {"bg": (255, 255, 255), "text_color": [((19, 19, 19), 1980)]},
    ],
    [
        [[134.0, 558.0], [376.0, 558.0], [376.0, 597.0], [134.0, 597.0]],
        ("245/300小时", 0.9997867941856384),
        {"bg": (255, 255, 255), "text_color": [((141, 141, 145), 1491)]},
    ],
    [
        [(636, 552), (739, 552), (739, 602), (636, 602)],
        ("3/7天", 0.9997026920318604),
        {"bg": (255, 255, 255), "text_color": [((141, 141, 145), 594)]},
    ],
    [
        [[1018.0, 560.0], [1221.0, 560.0], [1221.0, 594.0], [1018.0, 594.0]],
        ("2024.06.01", 0.9998825192451477),
        {"bg": (255, 255, 255), "text_color": [((141, 141, 145), 1250)]},
    ],
]

img_path = "/Users/xmly/Documents/shadow/img_seg/src/tools/2.png"
image = cv2.imread(img_path)
for line in data:
    box = line[0]
    # text = line[1][0]
    # score = line[1][1]

    # 转换box格式
    box = np.array(box).astype(int)
    # 画矩形框
    cv2.polylines(image, [box], isClosed=True, color=(0, 255, 0), thickness=2)
cv2.imshow("Result", image)
cv2.waitKey(0)
cv2.destroyAllWindows()
